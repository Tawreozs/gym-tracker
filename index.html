btn.addEventListener("click", async () => {
  if (!ex.value || !w.value || !r.value) {
    alert("Заполни все поля");
    return;
  }

  const params = new URLSearchParams({
    day: day.value,
    exercise: ex.value,
    weight: w.value,
    reps: r.value
  });

  try {
    const resp = await fetch(API_URL, {
      method: "POST",
      body: params
    });

    const data = await resp.json();
    res.innerHTML = `1ПМ (Эпли): <b>${data.oneRM.toFixed(1)} кг</b>`;

    w.value = "";
    r.value = "";
  } catch (e) {
    console.error(e);
    alert("Ошибка отправки");
  }
});
